<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Test report</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="shortcut icon" type="image/ico" href="images/favicon.ico"/>
	<link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="../assets/images/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
	<link rel="stylesheet" href="../assets/main.min.css">
</head>
<body>

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			{{#with stats}}
				<div class="navbar-brand">
					<span class="text">
						{{#if failures}}I'm feeling very depressed.{{else}}Call that job satisfaction, 'cause I don't.{{/if}}
					</span>
				</div>
				<ul class="stats {{#if failures}}has-failures{{/if}}">
					<li class="passes"><span class="text">{{i18n 'passed'}}:</span> <span class="value">{{passes}}</span></li>
					<li class="failures"><span class="text">{{i18n 'failed'}}:</span> <span class="value">{{failures}}</span></li>
					<li><span class="text">{{i18n 'skipped'}}:</span> <span class="value">{{skipped}}</span></li>
					<li><span class="text">{{i18n 'duration'}}:</span> <span class="value">{{duration}}s</span></li>
					<li><span class="text">{{i18n 'threads'}}:</span> <span class="value">{{threads}}</span></li>
				</ul>
			{{/with}}
		</div>
	</nav>

	<div class="container">

		<h1 class="page-title">{{i18n 'title'}}</h1>

		<ul id="browsers-list" class="nav nav-tabs nav-justified">
			{{#each browsers}}
				<li role="presentation" class="browser-tab {{#if @first}}active{{/if}}">
					<a class="browser" href="#{{anchor platform browserName version}}">
						<span class="icon sprt-{{ browserName }}"></span>
						<span class="info">
							<span class="name">{{ browserName }}{{#if version}} {{ version }}{{/if}}</span>
							{{#if platform}}<span class="platform">{{ platform }}</span>{{/if}}
						</span>
					</a>
				</li>
			{{/each}}
		</ul>

		<div class="tab-content">
			{{#each browsers}}
				<div role="tabpanel" class="tab-pane fade in {{#if @first}}active{{/if}}" id="{{anchor platform browserName version}}" aria-labelledby="#{{anchor platform browserName version}}">
				{{#features}}
					<section class="feature">
						<h3><span>{{i18n 'feature'}}:</span> {{title}}</h3>
						<ul class="info">
							{{#each description}}
								<li>{{ this }}</li>
							{{/each}}
						</ul>

						{{#scenarios}}
							<div class="scenario">
								<div class="scenario-header dd">
									<div class="arrow pull-left"></div>
									{{#ifEqual status 'pass'}}
										<span class="label label-success">{{i18n 'success'}}</span>
									{{/ifEqual}}
									{{#ifEqual status 'pending'}}
										<span class="label label-primary">{{i18n 'pending'}}</span>
									{{/ifEqual}}
									{{#ifEqual status 'fail'}}
										<span class="label label-danger">{{i18n 'failed'}}</span>
									{{/ifEqual}}
									<span class="scenario-text">{{i18n 'scenario'}}: {{title}}</span>
								</div>
								<div class="scenario-content dd-content">
									{{#steps}}
										<div class="step">
											{{#ifEqual status 'pass'}}
												<div class="single-step-result {{#ifCond logs.length '||' screenshots.length}}dd{{/ifCond}}">
													{{#ifCond logs.length '||' screenshots.length}}<div class="arrow pull-left"></div>{{/ifCond}}
													{{#if logs}}<div class="logs-icon pull-right">{{> _logsSvg}}</div>{{/if}}
													{{#if screenshots}}<div class="screenshots-icon pull-right">{{> _screenshotsSvg}}</div>{{/if}}
													<span class="label label-success">{{i18n 'success'}}</span>
													<span class="scenario-text">{{title}}</span>
												</div>
												{{#ifCond logs.length '||' screenshots.length}}
													<div class="step-logs dd-content bg-info text-info">
														{{> _logs}}
														{{> _screenshots}}
													</div>
												{{/ifCond}}
											{{/ifEqual}}

											{{#ifEqual status 'pending'}}
												<div class="single-step-result">
													<span class="label label-primary">{{i18n 'pending'}}</span>
													<span class="scenario-text">{{title}}</span>
												</div>
											{{/ifEqual}}

											{{#ifEqual status 'fail'}}
												<div class="single-step-result {{#if logs}}dd{{/if}}">
													{{#if logs}}
														<div class="arrow pull-left"></div>
														<div class="logs-icon pull-right">{{> _logsSvg}}</div>
													{{/if}}
													<span class="label label-danger">{{i18n 'failed'}}</span>
													<span class="scenario-text">{{title}}</span>
												</div>

												{{#if logs}}
													<div class="step-logs dd-content bg-info text-info">
														{{> _logs}}
													</div>
												{{/if}}

												<div class="error-info">
													<pre class="bg-danger text-danger">{{error}}</pre>
													<ul class="list-unstyled screenshots">
														{{#screenshots}}
														<li>
															<img class="img-responsive" src="./screenshots/{{ this }}">
														</li>
														{{/screenshots}}
													</ul>
												</div>
											{{/ifEqual}}

											{{#ifEqual status 'skipped'}}
												<div class="single-step-result">
													<span class="label label-warning">{{i18n 'skipped'}}</span>
													<span class="scenario-text">{{title}}</span>
												</div>
											{{/ifEqual}}
										</div>
									{{/steps}}
								</div>
							</div>
						{{/scenarios}}
					</section>
				{{/features}}
				</div>
			{{/each}}
		</div>
	</div>

	<script src="../assets/js/jquery-1.9.1.js"></script>
	<script src="../assets/js/tab.js"></script>

	<script type="text/javascript">
		$(function () {
			$("#browsers-list a").click(function(e) {
				e.preventDefault();
				$(this).tab('show');
			});
			$(".dd").click(function () {
				var display = 'none' == $(this).next(".dd-content").css('display') ? 'block' : 'none';
				$(this).toggleClass("open").next(".dd-content").css('display', display);
			});
		});
	</script>
</body>
</html>
